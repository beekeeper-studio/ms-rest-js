/** @license ms-rest-js
  * Copyright (c) Microsoft Corporation. All rights reserved.
  * Licensed under the MIT License. See License.txt and ThirdPartyNotices.txt in the project root for license information.
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).msRest={})}(this,(function(e){"use strict";function t(e){return e.toLowerCase()}function r(e){return!(!e||"object"!=typeof e)&&("function"==typeof e.rawHeaders&&"function"==typeof e.clone&&"function"==typeof e.get&&"function"==typeof e.set&&"function"==typeof e.contains&&"function"==typeof e.remove&&"function"==typeof e.headersArray&&"function"==typeof e.headerValues&&"function"==typeof e.headerNames&&"function"==typeof e.toJson)}var n=function(){function e(e){if(this._headersMap={},e)for(var t in e)this.set(t,e[t])}return e.prototype.set=function(e,r){this._headersMap[t(e)]={name:e,value:r.toString()}},e.prototype.get=function(e){var r=this._headersMap[t(e)];return r?r.value:void 0},e.prototype.contains=function(e){return!!this._headersMap[t(e)]},e.prototype.remove=function(e){var r=this.contains(e);return delete this._headersMap[t(e)],r},e.prototype.rawHeaders=function(){var e={};for(var t in this._headersMap){var r=this._headersMap[t];e[r.name.toLowerCase()]=r.value}return e},e.prototype.headersArray=function(){var e=[];for(var t in this._headersMap)e.push(this._headersMap[t]);return e},e.prototype.headerNames=function(){for(var e=[],t=this.headersArray(),r=0;r<t.length;++r)e.push(t[r].name);return e},e.prototype.headerValues=function(){for(var e=[],t=this.headersArray(),r=0;r<t.length;++r)e.push(t[r].value);return e},e.prototype.toJson=function(){return this.rawHeaders()},e.prototype.toString=function(){return JSON.stringify(this.toJson())},e.prototype.clone=function(){return new e(this.rawHeaders())},e}();function o(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function i(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function a(e,t){return e(t={exports:{}},t.exports),t.exports}for(var s=a((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}})),u=[],l=0;l<256;++l)u[l]=(l+256).toString(16).substr(1);var c=function(e,t){var r=t||0,n=u;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var f=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[n+i]=o[i];return t||c(o)},p={msRestVersion:"2.4.0",HTTP:"http:",HTTPS:"https:",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",NO_PROXY:"NO_PROXY",ALL_PROXY:"ALL_PROXY",HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD",PATCH:"PATCH"},StatusCodes:{TooManyRequests:429}},HeaderConstants:{AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",RETRY_AFTER:"Retry-After",USER_AGENT:"User-Agent"}},h="undefined"!=typeof process&&!!process.version&&!!process.versions&&!!process.versions.node;function d(e){var t={};return t.body=e.bodyAsText,t.headers=e.headers,t.status=e.status,t}function m(e){var t=e.clone();return t.headers&&t.headers.remove("authorization"),t}function y(e){return new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","ig").test(e)}function v(){return f()}function g(e,t){return new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))}var w=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function b(e){return w.test(e)}function E(e,t,r){return e&&t?e.split(t).join(r||""):e}var N=function(){function e(e,t){void 0===e&&(e={}),this.modelMappers=e,this.isXML=t}return e.prototype.validateConstraints=function(e,t,r){var n=function(e,n){throw new Error('"'+r+'" with value "'+t+'" should satisfy the constraint "'+e+'": '+n+".")};if(e.constraints&&null!=t){var o=e.constraints,i=o.ExclusiveMaximum,a=o.ExclusiveMinimum,s=o.InclusiveMaximum,u=o.InclusiveMinimum,l=o.MaxItems,c=o.MaxLength,f=o.MinItems,p=o.MinLength,h=o.MultipleOf,d=o.Pattern,m=o.UniqueItems;if(null!=i&&t>=i&&n("ExclusiveMaximum",i),null!=a&&t<=a&&n("ExclusiveMinimum",a),null!=s&&t>s&&n("InclusiveMaximum",s),null!=u&&t<u&&n("InclusiveMinimum",u),null!=l&&t.length>l&&n("MaxItems",l),null!=c&&t.length>c&&n("MaxLength",c),null!=f&&t.length<f&&n("MinItems",f),null!=p&&t.length<p&&n("MinLength",p),null!=h&&t%h!=0&&n("MultipleOf",h),d){var y="string"==typeof d?new RegExp(d):d;"string"==typeof t&&null!==t.match(y)||n("Pattern",d)}m&&t.some((function(e,t,r){return r.indexOf(e)!==t}))&&n("UniqueItems",m)}},e.prototype.serialize=function(e,t,r){var n={},i=e.type.name;r||(r=e.serializedName),null!==i.match(/^Sequence$/gi)&&(n=[]),e.isConstant&&(t=e.defaultValue);var a=e.required,s=e.nullable;if(a&&s&&void 0===t)throw new Error(r+" cannot be undefined.");if(a&&!s&&null==t)throw new Error(r+" cannot be null or undefined.");if(!a&&!1===s&&null===t)throw new Error(r+" cannot be null.");if(null==t)n=t;else if(this.validateConstraints(e,t,r),null!==i.match(/^any$/gi))n=t;else if(null!==i.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/gi))n=function(e,t,r){if(null!=r)if(null!==e.match(/^Number$/gi)){if("number"!=typeof r)throw new Error(t+" with value "+r+" must be of type number.")}else if(null!==e.match(/^String$/gi)){if("string"!=typeof r.valueOf())throw new Error(t+' with value "'+r+'" must be of type string.')}else if(null!==e.match(/^Uuid$/gi)){if("string"!=typeof r.valueOf()||!y(r))throw new Error(t+' with value "'+r+'" must be of type string and a valid uuid.')}else if(null!==e.match(/^Boolean$/gi)){if("boolean"!=typeof r)throw new Error(t+" with value "+r+" must be of type boolean.")}else if(null!==e.match(/^Stream$/gi)){var n=typeof r;if(!("string"===n||"function"===n||r instanceof ArrayBuffer||ArrayBuffer.isView(r)||"function"==typeof Blob&&r instanceof Blob))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.")}return r}(i,r,t);else if(null!==i.match(/^Enum$/gi)){n=function(e,t,r){if(!t)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(!t.some((function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===r.toLowerCase():e===r})))throw new Error(r+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(t)+".");return r}(r,e.type.allowedValues,t)}else null!==i.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/gi)?n=function(e,t,r){if(null!=t)if(null!==e.match(/^Date$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in RFC-1123 format.");t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=function(e){if(!e)return;"string"==typeof e.valueOf()&&(e=new Date(e));return Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/gi)){if(!b(t))throw new Error(r+' must be a string in ISO 8601 format. Instead was "'+t+'".');t=t}return t}(i,t,r):null!==i.match(/^ByteArray$/gi)?n=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=o(t)}return t}(r,t):null!==i.match(/^Base64Url$/gi)?n=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=function(e){if(!e)return;if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return function(e,t){var r=e.length;for(;r-1>=0&&e[r-1]===t;)--r;return e.substr(0,r)}(o(e),"=").replace(/\+/g,"-").replace(/\//g,"_")}(t)}return t}(r,t):null!==i.match(/^Sequence$/gi)?n=function(e,t,r,n){if(!Array.isArray(r))throw new Error(n+" must be of type Array.");var o=t.type.element;if(!o||"object"!=typeof o)throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+n+".");for(var i=[],a=0;a<r.length;a++)i[a]=e.serialize(o,r[a],n);return i}(this,e,t,r):null!==i.match(/^Dictionary$/gi)?n=function(e,t,r,n){if("object"!=typeof r)throw new Error(n+" must be of type object.");var o=t.type.value;if(!o||"object"!=typeof o)throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+n+".");for(var i={},a=0,s=Object.keys(r);a<s.length;a++){var u=s[a];i[u]=e.serialize(o,r[u],n+"."+u)}return i}(this,e,t,r):null!==i.match(/^Composite$/gi)&&(n=function(e,t,r,n){var o;x(e,t)&&(t=S(e,t,r,"clientName"));if(null!=r){for(var i={},a=R(e,t,n),s=0,u=Object.keys(a);s<u.length;s++){var l=u[s],c=a[l];if(!c.readOnly){var f=void 0,p=i;if(e.isXML)f=c.xmlIsWrapped?c.xmlName:c.xmlElementName||c.xmlName;else{var h=T(c.serializedName);f=h.pop();for(var d=0,m=h;d<m.length;d++){var y=m[d];null==p[y]&&null!=r[l]&&(p[y]={}),p=p[y]}}if(null!=p){var v=""!==c.serializedName?n+"."+c.serializedName:n,g=r[l],w=x(e,t);w&&w.clientName===l&&null==g&&(g=t.serializedName);var b=e.serialize(c,g,v);void 0!==b&&null!=f&&(c.xmlIsAttribute?(p.$=p.$||{},p.$[f]=b):c.xmlIsWrapped?p[f]=((o={})[c.xmlElementName]=b,o):p[f]=b)}}}var E=t.type.additionalProperties;if(E){var N=Object.keys(a),_=function(t){N.every((function(e){return e!==t}))&&(i[t]=e.serialize(E,r[t],n+'["'+t+'"]'))};for(var A in r)_(A)}return i}return r}(this,e,t,r));return n},e.prototype.deserialize=function(e,t,r){if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;var n,o=e.type.name;return r||(r=e.serializedName),null!==o.match(/^Composite$/gi)?n=function(e,t,r,n){x(e,t)&&(t=S(e,t,r,"serializedName"));for(var o=R(e,t,n),i={},a=[],s=0,u=Object.keys(o);s<u.length;s++){var l=u[s],c=o[l],f=T(o[l].serializedName);a.push(f[0]);var p=c.serializedName,h=c.xmlName,d=c.xmlElementName,m=n;""!==p&&void 0!==p&&(m=n+"."+p);var y=c.headerCollectionPrefix;if(y){for(var v={},g=0,w=Object.keys(r);g<w.length;g++){var b=w[g];b.startsWith(y)&&(v[b.substring(y.length)]=e.deserialize(c.type.value,r[b],m)),a.push(b)}i[l]=v}else if(e.isXML)if(c.xmlIsAttribute&&r.$)i[l]=e.deserialize(c,r.$[h],m);else{var E=r[d||h||p];if(c.xmlIsWrapped)void 0===(E=(E=r[h])&&E[d])&&(E=[]);i[l]=e.deserialize(c,E,m)}else{for(var N=void 0,A=r,O=0,P=f;O<P.length;O++){var C=P[O];if(!A)break;A=A[C]}N=A;var D=t.type.polymorphicDiscriminator;D&&l===D.clientName&&null==N&&(N=t.serializedName);var I=void 0;Array.isArray(r[l])&&""===o[l].serializedName?(N=r[l],i=e.deserialize(c,N,m)):void 0===N&&void 0===c.defaultValue||(I=e.deserialize(c,N,m),i[l]=I)}}var q=t.type.additionalProperties;if(q){var U=function(e){for(var t in o){if(T(o[t].serializedName)[0]===e)return!1}return!0};for(var M in r)U(M)&&(i[M]=e.deserialize(q,r[M],n+'["'+M+'"]'))}else if(r)for(var k=0,H=Object.keys(r);k<H.length;k++){l=H[k];void 0!==i[l]||a.includes(l)||_(l)||(i[l]=r[l])}return i}(this,e,t,r):(this.isXML&&null!=t.$&&null!=t._&&(t=t._),null!==o.match(/^Number$/gi)?(n=parseFloat(t),isNaN(n)&&(n=t)):null!==o.match(/^Boolean$/gi)?n="true"===t||"false"!==t&&t:null!==o.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/gi)?n=t:null!==o.match(/^(Date|DateTime|DateTimeRfc1123)$/gi)?n=new Date(t):null!==o.match(/^UnixTime$/gi)?n=function(e){if(!e)return;return new Date(1e3*e)}(t):null!==o.match(/^ByteArray$/gi)?n=i(t):null!==o.match(/^Base64Url$/gi)?n=function(e){if(!e)return;if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return i(e=e.replace(/\-/g,"+").replace(/\_/g,"/"))}(t):null!==o.match(/^Sequence$/gi)?n=function(e,t,r,n){var o=t.type.element;if(!o||"object"!=typeof o)throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+n);if(r){Array.isArray(r)||(r=[r]);for(var i=[],a=0;a<r.length;a++)i[a]=e.deserialize(o,r[a],n+"["+a+"]");return i}return r}(this,e,t,r):null!==o.match(/^Dictionary$/gi)&&(n=function(e,t,r,n){var o=t.type.value;if(!o||"object"!=typeof o)throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+n);if(r){for(var i={},a=0,s=Object.keys(r);a<s.length;a++){var u=s[a];i[u]=e.deserialize(o,r[u],n)}return i}return r}(this,e,t,r))),e.isConstant&&(n=e.defaultValue),n},e}();function T(e){var t=[],r="";if(e)for(var n=0,o=e.split(".");n<o.length;n++){var i=o[n];"\\"===i.charAt(i.length-1)?r+=i.substr(0,i.length-1)+".":(r+=i,t.push(r),r="")}return t}function R(e,t,r){var n=t.type.modelProperties;if(!n){var o=t.type.className;if(!o)throw new Error('Class name for model "'+r+'" is not provided in the mapper "'+JSON.stringify(t,void 0,2)+'".');var i=e.modelMappers[o];if(!i)throw new Error('mapper() cannot be null or undefined for model "'+o+'".');if(!(n=i.type.modelProperties))throw new Error('modelProperties cannot be null or undefined in the mapper "'+JSON.stringify(i)+'" of type "'+o+'" for object "'+r+'".')}return n}function _(e){return["$","_"].includes(e)}function S(e,t,r,n){var o=x(e,t);if(o){var i=o[n];if(null!=i){var a=r[i];if(null!=a){var s=t.type.uberParent||t.type.className,u=a===s?a:s+"."+a,l=e.modelMappers.discriminators[u];l&&(t=l)}}}return t}function x(e,t){return t.type.polymorphicDiscriminator||A(e,t.type.uberParent)||A(e,t.type.className)}function A(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}var O=function(e){for(var t={},r=0,n=e;r<n.length;r++){var o=n[r];t[o]=o}return t}(["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"]);var P=function(){function e(e,t,o,i,a,s,u,l,c,f,p,h,d,m){this.streamResponseBody=s,this.url=e||"",this.method=t||"GET",this.headers=r(a)?a:new n(a),this.body=o,this.query=i,this.formData=void 0,this.withCredentials=u||!1,this.abortSignal=l,this.timeout=c||0,this.onUploadProgress=f,this.onDownloadProgress=p,this.proxySettings=h,this.keepAlive=d,this.agentSettings=m}return e.prototype.validateRequestProperties=function(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")},e.prototype.prepare=function(e){if(!e)throw new Error("options object is required");if(null==e.method||"string"!=typeof e.method.valueOf())throw new Error("options.method must be a string.");if(e.url&&e.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if(!(null!=e.pathTemplate&&"string"==typeof e.pathTemplate.valueOf()||null!=e.url&&"string"==typeof e.url.valueOf()))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(e.url){if("string"!=typeof e.url)throw new Error('options.url must be of type "string".');this.url=e.url}if(e.method){var t=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"];if(-1===t.indexOf(e.method.toUpperCase()))throw new Error('The provided method "'+e.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(t))}if(this.method=e.method.toUpperCase(),e.pathTemplate){var r=e.pathTemplate,n=e.pathParameters;if("string"!=typeof r)throw new Error('options.pathTemplate must be of type "string".');e.baseUrl||(e.baseUrl="https://management.azure.com");var o=e.baseUrl,i=o+(o.endsWith("/")?"":"/")+(r.startsWith("/")?r.slice(1):r),a=i.match(/({\w*\s*\w*})/gi);if(a&&a.length){if(!n)throw new Error("pathTemplate: "+r+" has been provided. Hence, options.pathParameters must also be provided.");a.forEach((function(e){var t=e.slice(1,-1),o=n[t];if(null==o||"string"!=typeof o&&"object"!=typeof o)throw new Error("pathTemplate: "+r+" contains the path parameter "+t+" however, it is not present in "+n+" - "+JSON.stringify(n,void 0,2)+'.The value of the path parameter can either be a "string" of the form { '+t+': "some sample value" } or it can be an "object" of the form { "'+t+'": { value: "some sample value", skipUrlEncoding: true } }.');if("string"==typeof o.valueOf()&&(i=i.replace(e,encodeURIComponent(o))),"object"==typeof o.valueOf()){if(!o.value)throw new Error("options.pathParameters["+t+'] is of type "object" but it does not contain a "value" property.');i=o.skipUrlEncoding?i.replace(e,o.value):i.replace(e,encodeURIComponent(o.value))}}))}this.url=i}if(e.queryParameters){var s=e.queryParameters;if("object"!=typeof s)throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&-1===this.url.indexOf("?")&&(this.url+="?");var u=[];for(var l in this.query={},s){var c=s[l];if(c)if("string"==typeof c)u.push(l+"="+encodeURIComponent(c)),this.query[l]=encodeURIComponent(c);else if("object"==typeof c){if(!c.value)throw new Error("options.queryParameters["+l+'] is of type "object" but it does not contain a "value" property.');c.skipUrlEncoding?(u.push(l+"="+c.value),this.query[l]=c.value):(u.push(l+"="+encodeURIComponent(c.value)),this.query[l]=encodeURIComponent(c.value))}}this.url+=u.join("&")}if(e.headers)for(var f=e.headers,p=0,h=Object.keys(e.headers);p<h.length;p++){var d=h[p];this.headers.set(d,f[d])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),this.headers.get("x-ms-client-request-id")||e.disableClientRequestId||this.headers.set("x-ms-client-request-id",v()),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=e.body,null!=e.body&&(e.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),"application/octet-stream"!==this.headers.get("Content-Type")&&this.headers.set("Content-Type","application/octet-stream")):(e.serializationMapper&&(this.body=new N(e.mappers).serialize(e.serializationMapper,e.body,"requestBody")),e.disableJsonStringifyOnBody||(this.body=JSON.stringify(e.body)))),this.abortSignal=e.abortSignal,this.onDownloadProgress=e.onDownloadProgress,this.onUploadProgress=e.onUploadProgress,this.streamResponseBody=e.streamResponseBody,this},e.prototype.clone=function(){var t=new e(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress,this.proxySettings,this.keepAlive,this.agentSettings);return this.formData&&(t.formData=this.formData),this.operationSpec&&(t.operationSpec=this.operationSpec),this.shouldDeserialize&&(t.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(t.operationResponseGetter=this.operationResponseGetter),t},e}(),C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function D(e,t){function r(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var I=function(){return(I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function q(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function U(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var M,k=function(e){function t(r,n,o,i,a,s){var u=e.call(this,r)||this;return u.code=n,u.statusCode=o,u.request=i,u.response=a,u.body=s,Object.setPrototypeOf(u,t.prototype),u}return D(t,e),t.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",t.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",t.PARSE_ERROR="PARSE_ERROR",t}(Error),H=function(){function e(){}return e.prototype.sendRequest=function(e){var t=new XMLHttpRequest;if(e.agentSettings)throw new Error("HTTP agent settings not supported in browser environment");if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");var r=e.abortSignal;if(r){var n=function(){t.abort()};r.addEventListener("abort",n),t.addEventListener("readystatechange",(function(){t.readyState===XMLHttpRequest.DONE&&r.removeEventListener("abort",n)}))}if(L(t.upload,e.onUploadProgress),L(t,e.onDownloadProgress),e.formData){for(var o=e.formData,i=new FormData,a=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?i.append(e,t.value,t.options):i.append(e,t)},s=0,u=Object.keys(o);s<u.length;s++){var l=u[s],c=o[l];if(Array.isArray(c))for(var f=0;f<c.length;f++)a(l,c[f]);else a(l,c)}e.body=i,e.formData=void 0;var p=e.headers.get("Content-Type");p&&-1!==p.indexOf("multipart/form-data")&&e.headers.remove("Content-Type")}t.open(e.method,e.url),t.timeout=e.timeout,t.withCredentials=e.withCredentials;for(var h=0,d=e.headers.headersArray();h<d.length;h++){var m=d[h];t.setRequestHeader(m.name,m.value)}return t.responseType=e.streamResponseBody?"blob":"text",t.send(void 0===e.body?null:e.body),e.streamResponseBody?new Promise((function(r,n){t.addEventListener("readystatechange",(function(){if(t.readyState===XMLHttpRequest.HEADERS_RECEIVED){var n=new Promise((function(r,n){t.addEventListener("load",(function(){r(t.response)})),j(e,t,n)}));r({request:e,status:t.status,headers:z(t),blobBody:n})}})),j(e,t,n)})):new Promise((function(r,n){t.addEventListener("load",(function(){return r({request:e,status:t.status,headers:z(t),bodyAsText:t.responseText})})),j(e,t,n)}))},e}();function L(e,t){t&&e.addEventListener("progress",(function(e){return t({loadedBytes:e.loaded})}))}function z(e){for(var t=new n,r=0,o=e.getAllResponseHeaders().trim().split(/[\r\n]+/);r<o.length;r++){var i=o[r],a=i.indexOf(":"),s=i.slice(0,a),u=i.slice(a+2);t.set(s,u)}return t}function j(e,t,r){t.addEventListener("error",(function(){return r(new k("Failed to send request to "+e.url,k.REQUEST_SEND_ERROR,void 0,e))})),t.addEventListener("abort",(function(){return r(new k("The request was aborted",k.REQUEST_ABORTED_ERROR,void 0,e))})),t.addEventListener("timeout",(function(){return r(new k("timeout of "+t.timeout+"ms exceeded",k.REQUEST_SEND_ERROR,void 0,e))}))}function B(e){return F(e.parameterPath,e.mapper)}function F(e,t){return"string"==typeof e?e:Array.isArray(e)?e.join("."):t.serializedName}function $(e){var t=!1;for(var r in e.responses){var n=e.responses[r];if(n.bodyMapper&&n.bodyMapper.type.name===O.Stream){t=!0;break}}return t}(M=e.HttpPipelineLogLevel||(e.HttpPipelineLogLevel={}))[M.OFF=0]="OFF",M[M.ERROR=1]="ERROR",M[M.WARNING=2]="WARNING",M[M.INFO=3]="INFO";var V={entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},Q=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,X=new RegExp("[\\-\\.0-9"+Q.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Y=new RegExp("^"+Q.source+X.source+"*(?::"+Q.source+X.source+"*)?$");function W(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,W)}function G(){}function J(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Z(e,t,r,n,o,i){function a(e,t,n){e in r.attributeNames&&i.fatalError("Attribute "+e+" redefined"),r.addValue(e,t,n)}for(var s,u=++t,l=0;;){var c=e.charAt(u);switch(c){case"=":if(1===l)s=e.slice(t,u),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(i.warning('attribute value must after "="'),s=e.slice(t,u)),t=u+1,!((u=e.indexOf(c,t))>0))throw new Error("attribute value no end '"+c+"' match");a(s,f=e.slice(t,u).replace(/&#?\w+;/g,o),t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');a(s,f=e.slice(t,u).replace(/&#?\w+;/g,o),t),i.warning('attribute "'+s+'" missed start quot('+c+")!!"),t=u+1,l=5}break;case"/":switch(l){case 0:r.setTagName(e.slice(t,u));case 5:case 6:case 7:l=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==l&&r.setTagName(e.slice(t,u)),u;case">":switch(l){case 0:r.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=e.slice(t,u)).slice(-1)&&(r.closed=!0,f=f.slice(0,-1));case 2:2===l&&(f=s),4==l?(i.warning('attribute "'+f+'" missed quot(")!'),a(s,f.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===n[""]&&f.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),a(f,f,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"":c=" ";default:if(c<=" ")switch(l){case 0:r.setTagName(e.slice(t,u)),l=6;break;case 1:s=e.slice(t,u),l=2;break;case 4:var f=e.slice(t,u).replace(/&#?\w+;/g,o);i.warning('attribute "'+f+'" missed quot(")!!'),a(s,f,t);case 5:l=6}else switch(l){case 2:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&s.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,t),t=u,l=1;break;case 5:i.warning('attribute space is required"'+s+'"!!');case 6:l=1,t=u;break;case 3:l=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function K(e,t,r){for(var n=e.tagName,o=null,i=e.length;i--;){var a=e[i],s=a.qName,u=a.value;if((p=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,p),c=s.slice(p+1),f="xmlns"===l&&c;else c=s,l=null,f="xmlns"===s&&"";a.localName=c,!1!==f&&(null==o&&(o={},re(r,r={})),r[f]=o[f]=u,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,u))}for(i=e.length;i--;){(l=(a=e[i]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=r[l||""]))}var p;(p=n.indexOf(":"))>0?(l=e.prefix=n.slice(0,p),c=e.localName=n.slice(p+1)):(l=null,c=e.localName=n);var h=e.uri=r[l||""];if(t.startElement(h,c,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=o,!0;if(t.endElement(h,c,n),o)for(l in o)t.endPrefixMapping(l)}function ee(e,t,r,n,o){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(r)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,n),o.characters(a,0,a.length),i)}return t+1}function te(e,t,r,n){var o=n[r];return null==o&&((o=e.lastIndexOf("</"+r+">"))<t&&(o=e.lastIndexOf("</"+r)),n[r]=o),o<t}function re(e,t){for(var r in e)t[r]=e[r]}function ne(e,t,r,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,o-t-4),o+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,o-t-9),r.endCDATA(),o+3}var i=function(e,t){var r,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;r=o.exec(e);)if(n.push(r),r[1])return n}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],u=!1,l=!1;a>3&&(/^public$/i.test(i[2][0])?(u=i[3][0],l=a>4&&i[4][0]):/^system$/i.test(i[2][0])&&(l=i[3][0]));var c=i[a-1];return r.startDTD(s,u,l),r.endDTD(),c.index+c[0].length}}return-1}function oe(e,t,r){var n=e.indexOf("?>",t);if(n){var o=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(o){o[0].length;return r.processingInstruction(o[1],o[2]),n+2}return-1}return-1}function ie(){this.attributeNames={}}W.prototype=new Error,W.prototype.name=W.name,G.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),re(t,t={}),function(e,t,r,n,o){function i(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function a(t){if(t>d){var r=e.substring(d,t).replace(/&#?\w+;/g,i);f&&s(d),n.characters(r,0,t-d),d=t}}function s(t,r){for(;t>=l&&(r=c.exec(e));)u=r.index,l=u+r[0].length,f.lineNumber++;f.columnNumber=t-u+1}var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,p=[{currentNSMap:t}],h={},d=0;for(;;){try{var m=e.indexOf("<",d);if(m<0){if(!e.substr(d).match(/^\s*$/)){var y=n.doc,v=y.createTextNode(e.substr(d));y.appendChild(v),n.currentElement=v}return}switch(m>d&&a(m),e.charAt(m+1)){case"/":var g=e.indexOf(">",m+3),w=e.substring(m+2,g),b=p.pop();g<0?(w=e.substring(m+2).replace(/[\s<].*/,""),o.error("end tag name: "+w+" is not complete:"+b.tagName),g=m+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),o.error("end tag name: "+w+" maybe not complete"),g=m+1+w.length);var E=b.localNSMap,N=b.tagName==w;if(N||b.tagName&&b.tagName.toLowerCase()==w.toLowerCase()){if(n.endElement(b.uri,b.localName,w),E)for(var T in E)n.endPrefixMapping(T);N||o.fatalError("end tag name: "+w+" is not match the current start tagName:"+b.tagName)}else p.push(b);g++;break;case"?":f&&s(m),g=oe(e,m,n);break;case"!":f&&s(m),g=ne(e,m,n,o);break;default:f&&s(m);var R=new ie,_=p[p.length-1].currentNSMap,S=(g=Z(e,m,R,_,i,o),R.length);if(!R.closed&&te(e,g,R.tagName,h)&&(R.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),f&&S){for(var x=J(f,{}),A=0;A<S;A++){var O=R[A];s(O.offset),O.locator=J(f,{})}n.locator=x,K(R,n,_)&&p.push(R),n.locator=f}else K(R,n,_)&&p.push(R);"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?g++:g=ee(e,g,R.tagName,i,n)}}catch(e){if(e instanceof W)throw e;o.error("element parse error: "+e),g=-1}g>d?d=g:a(Math.max(m,d)+1)}}(e,t,r,n,this.errorHandler),n.endDocument()}},ie.prototype={setTagName:function(e){if(!Y.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!Y.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var ae={XMLReader:G,ParseError:W};function se(e,t){for(var r in e)t[r]=e[r]}function ue(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,se(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var le={},ce=le.ELEMENT_NODE=1,fe=le.ATTRIBUTE_NODE=2,pe=le.TEXT_NODE=3,he=le.CDATA_SECTION_NODE=4,de=le.ENTITY_REFERENCE_NODE=5,me=le.ENTITY_NODE=6,ye=le.PROCESSING_INSTRUCTION_NODE=7,ve=le.COMMENT_NODE=8,ge=le.DOCUMENT_NODE=9,we=le.DOCUMENT_TYPE_NODE=10,be=le.DOCUMENT_FRAGMENT_NODE=11,Ee=le.NOTATION_NODE=12,Ne={},Te={},Re=(Ne.INDEX_SIZE_ERR=(Te[1]="Index size error",1),Ne.DOMSTRING_SIZE_ERR=(Te[2]="DOMString size error",2),Ne.HIERARCHY_REQUEST_ERR=(Te[3]="Hierarchy request error",3)),_e=(Ne.WRONG_DOCUMENT_ERR=(Te[4]="Wrong document",4),Ne.INVALID_CHARACTER_ERR=(Te[5]="Invalid character",5),Ne.NO_DATA_ALLOWED_ERR=(Te[6]="No data allowed",6),Ne.NO_MODIFICATION_ALLOWED_ERR=(Te[7]="No modification allowed",7),Ne.NOT_FOUND_ERR=(Te[8]="Not found",8)),Se=(Ne.NOT_SUPPORTED_ERR=(Te[9]="Not supported",9),Ne.INUSE_ATTRIBUTE_ERR=(Te[10]="Attribute in use",10));Ne.INVALID_STATE_ERR=(Te[11]="Invalid state",11),Ne.SYNTAX_ERR=(Te[12]="Syntax error",12),Ne.INVALID_MODIFICATION_ERR=(Te[13]="Invalid modification",13),Ne.NAMESPACE_ERR=(Te[14]="Invalid namespace",14),Ne.INVALID_ACCESS_ERR=(Te[15]="Invalid access",15);function xe(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,Te[e]),this.message=Te[e],Error.captureStackTrace&&Error.captureStackTrace(this,xe);return r.code=e,t&&(this.message=this.message+": "+t),r}function Ae(){}function Oe(e,t){this._node=e,this._refresh=t,Pe(this)}function Pe(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);at(e,"length",r.length),se(r,e),e._inc=t}}function Ce(){}function De(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function Ie(e,t,r,n){if(n?t[De(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var o=e.ownerDocument;o&&(n&&ze(o,e,n),function(e,t,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(o,e,r))}}function qe(e,t,r){var n=De(t,r);if(!(n>=0))throw xe(_e,new Error(e.tagName+"@"+r));for(var o=t.length-1;n<o;)t[n]=t[++n];if(t.length=o,e){var i=e.ownerDocument;i&&(ze(i,e,r),r.ownerElement=null)}}function Ue(e){if(this._features={},e)for(var t in e)this._features=e[t]}function Me(){}function ke(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function He(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(He(e,t))return!0}while(e=e.nextSibling)}function Le(){}function ze(e,t,r,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete t._nsMap[r.prefix?r.localName:""]}function je(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var o=t.firstChild,i=0;o;)n[i++]=o,o=o.nextSibling;n.length=i}}}function Be(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,je(e.ownerDocument,e),t}function Fe(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===be){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;var a=r?r.previousSibling:e.lastChild;o.previousSibling=a,i.nextSibling=r,a?a.nextSibling=o:e.firstChild=o,null==r?e.lastChild=i:r.previousSibling=i;do{o.parentNode=e}while(o!==i&&(o=o.nextSibling));return je(e.ownerDocument||e,e),t.nodeType==be&&(t.firstChild=t.lastChild=null),t}function $e(){this._nsMap={}}function Ve(){}function Qe(){}function Xe(){}function Ye(){}function We(){}function Ge(){}function Je(){}function Ze(){}function Ke(){}function et(){}function tt(){}function rt(){}function nt(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,o=n.prefix,i=n.namespaceURI;if(i&&null==o&&null==(o=n.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return it(this,r,e,t,a),r.join("")}function ot(e,t,r){var n=e.prefix||"",o=e.namespaceURI;if(!n&&!o)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=r.length;i--;){var a=r[i];if(a.prefix==n)return a.namespace!=o}return!0}function it(e,t,r,n,o){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case ce:o||(o=[]);o.length;var i=e.attributes,a=i.length,s=e.firstChild,u=e.tagName;r="http://www.w3.org/1999/xhtml"===e.namespaceURI||r,t.push("<",u);for(var l=0;l<a;l++){"xmlns"==(c=i.item(l)).prefix?o.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&o.push({prefix:"",namespace:c.value})}for(l=0;l<a;l++){var c;if(ot(c=i.item(l),0,o)){var f=c.prefix||"",p=c.namespaceURI,h=f?" xmlns:"+f:" xmlns";t.push(h,'="',p,'"'),o.push({prefix:f,namespace:p})}it(c,t,r,n,o)}if(ot(e,0,o)){f=e.prefix||"";if(p=e.namespaceURI){h=f?" xmlns:"+f:" xmlns";t.push(h,'="',p,'"'),o.push({prefix:f,namespace:p})}}if(s||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),r&&/^script$/i.test(u))for(;s;)s.data?t.push(s.data):it(s,t,r,n,o),s=s.nextSibling;else for(;s;)it(s,t,r,n,o),s=s.nextSibling;t.push("</",u,">")}else t.push("/>");return;case ge:case be:for(s=e.firstChild;s;)it(s,t,r,n,o),s=s.nextSibling;return;case fe:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,ke),'"');case pe:return t.push(e.data.replace(/[<&]/g,ke).replace(/]]>/g,"]]&gt;"));case he:return t.push("<![CDATA[",e.data,"]]>");case ve:return t.push("\x3c!--",e.data,"--\x3e");case we:var d=e.publicId,m=e.systemId;if(t.push("<!DOCTYPE ",e.name),d)t.push(" PUBLIC ",d),m&&"."!=m&&t.push(" ",m),t.push(">");else if(m&&"."!=m)t.push(" SYSTEM ",m,">");else{var y=e.internalSubset;y&&t.push(" [",y,"]"),t.push(">")}return;case ye:return t.push("<?",e.target," ",e.data,"?>");case de:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function at(e,t,r){e[t]=r}xe.prototype=Error.prototype,se(Ne,xe),Ae.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)it(this[n],r,e,t);return r.join("")}},Oe.prototype.item=function(e){return Pe(this),this[e]},ue(Oe,Ae),Ce.prototype={length:0,item:Ae.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new xe(Se);var r=this.getNamedItem(e.nodeName);return Ie(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new xe(Se);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Ie(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return qe(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return qe(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},Ue.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new Le;if(n.implementation=this,n.childNodes=new Ae,n.doctype=r,r&&n.appendChild(r),t){var o=n.createElementNS(e,t);n.appendChild(o)}return n},createDocumentType:function(e,t,r){var n=new Ge;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},Me.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Fe(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return Be(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,r,n){var o=new r.constructor;for(var i in r){var a=r[i];"object"!=typeof a&&a!=o[i]&&(o[i]=a)}r.childNodes&&(o.childNodes=new Ae);switch(o.ownerDocument=t,o.nodeType){case ce:var s=r.attributes,u=o.attributes=new Ce,l=s.length;u._ownerElement=o;for(var c=0;c<l;c++)o.setAttributeNode(e(t,s.item(c),!0));break;case fe:n=!0}if(n)for(var f=r.firstChild;f;)o.appendChild(e(t,f,n)),f=f.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==pe&&e.nodeType==pe?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==fe?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==fe?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},se(le,Me),se(le,Me.prototype),Le.prototype={nodeName:"#document",nodeType:ge,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==be){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==ce&&(this.documentElement=e),Fe(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),Be(this,e)},importNode:function(e,t){return function e(t,r,n){var o;switch(r.nodeType){case ce:(o=r.cloneNode(!1)).ownerDocument=t;case be:break;case fe:n=!0}o||(o=r.cloneNode(!1));if(o.ownerDocument=t,o.parentNode=null,n)for(var i=r.firstChild;i;)o.appendChild(e(t,i,n)),i=i.nextSibling;return o}(this,e,t)},getElementById:function(e){var t=null;return He(this.documentElement,(function(r){if(r.nodeType==ce&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new Oe(this,(function(e){var r=[];return He(e.documentElement,(function(n){n!==e&&n.nodeType==ce&&t.test(n.getAttribute("class"))&&r.push(n)})),r}))},createElement:function(e){var t=new $e;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new Ae,(t.attributes=new Ce)._ownerElement=t,t},createDocumentFragment:function(){var e=new et;return e.ownerDocument=this,e.childNodes=new Ae,e},createTextNode:function(e){var t=new Xe;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Ye;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new We;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new tt;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Ve;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Ke;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new $e,n=t.split(":"),o=r.attributes=new Ce;return r.childNodes=new Ae,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,o._ownerElement=r,r},createAttributeNS:function(e,t){var r=new Ve,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},ue(Le,Me),$e.prototype={nodeType:ce,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===be?this.insertBefore(e,null):function(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,je(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new Oe(this,(function(t){var r=[];return He(t,(function(n){n===t||n.nodeType!=ce||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new Oe(this,(function(r){var n=[];return He(r,(function(o){o===r||o.nodeType!==ce||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||n.push(o)})),n}))}},Le.prototype.getElementsByTagName=$e.prototype.getElementsByTagName,Le.prototype.getElementsByTagNameNS=$e.prototype.getElementsByTagNameNS,ue($e,Me),Ve.prototype.nodeType=fe,ue(Ve,Me),Qe.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Te[Re])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},ue(Qe,Me),Xe.prototype={nodeName:"#text",nodeType:pe,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},ue(Xe,Qe),Ye.prototype={nodeName:"#comment",nodeType:ve},ue(Ye,Qe),We.prototype={nodeName:"#cdata-section",nodeType:he},ue(We,Qe),Ge.prototype.nodeType=we,ue(Ge,Me),Je.prototype.nodeType=Ee,ue(Je,Me),Ze.prototype.nodeType=me,ue(Ze,Me),Ke.prototype.nodeType=de,ue(Ke,Me),et.prototype.nodeName="#document-fragment",et.prototype.nodeType=be,ue(et,Me),tt.prototype.nodeType=ye,ue(tt,Me),rt.prototype.serializeToString=function(e,t,r){return nt.call(e,t,r)},Me.prototype.toString=nt;try{if(Object.defineProperty){Object.defineProperty(Oe.prototype,"length",{get:function(){return Pe(this),this.$$length}}),Object.defineProperty(Me.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case ce:case be:var r=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case ce:case be:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),at=function(e,t,r){e["$$"+t]=r}}}catch(e){}var st={Node:Me,DOMException:xe,DOMImplementation:Ue,XMLSerializer:rt},ut=a((function(e,t){function r(e){this.options=e||{locator:{}}}function n(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function i(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function s(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var r=this.options,o=new u,a=r.domBuilder||new n,s=r.errorHandler,l=r.locator,c=r.xmlns||{},f=/\/x?html?$/.test(t),p=f?V.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),o.errorHandler=function(e,t,r){if(!e){if(t instanceof n)return t;e=t}var o={},a=e instanceof Function;function s(t){var n=e[t];!n&&a&&(n=2==e.length?function(r){e(t,r)}:e),o[t]=n&&function(e){n("[xmldom "+t+"]\t"+e+i(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),o}(s,a,l),o.domBuilder=r.domBuilder||a,f&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?o.parse(e,c,p):o.errorHandler.error("invalid doc source"),a.doc},n.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),u=n.length;s(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<u;l++){e=n.getURI(l);var c=n.getValue(l),f=(r=n.getQName(l),i.createAttributeNS(e,r));this.locator&&o(n.getLocator(l),f),f.value=f.nodeValue=c,a.setAttributeNode(f)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),s(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=a.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=a.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&o(this.locator,n),s(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i),s(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,i(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,i(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){n.prototype[e]=function(){return null}}));var u=ae.XMLReader,l=ae.ParseError,c=t.DOMImplementation=st.DOMImplementation;t.XMLSerializer=st.XMLSerializer,t.DOMParser=r,t.__DOMHandler=n})),lt=(ut.DOMImplementation,ut.XMLSerializer),ct=ut.DOMParser,ft=(ut.__DOMHandler,new ct);function pt(e){try{var t=ft.parseFromString(e,"application/xml");!function(e){if(ht){var t=e.getElementsByTagNameNS(ht,"parsererror");if(t.length)throw new Error(t.item(0).innerHTML)}}(t);var r=function e(t){var r={},n=t.childNodes.length,o=t.childNodes[0],i=o&&1===n&&o.nodeType===Node.TEXT_NODE&&o.nodeValue||void 0,a=function(e){return function(e){return!!e.attributes}(e)&&e.hasAttributes()?e:void 0}(t);if(a){r.$={};for(var s=0;s<a.attributes.length;s++){var u=a.attributes[s];r.$[u.nodeName]=u.nodeValue}i&&(r._=i)}else 0===n?r="":i&&(r=i);if(!i)for(s=0;s<n;s++){var l=t.childNodes[s];if(l.nodeType!==Node.TEXT_NODE){var c=e(l);r[l.nodeName]?Array.isArray(r[l.nodeName])?r[l.nodeName].push(c):r[l.nodeName]=[r[l.nodeName],c]:r[l.nodeName]=c}}return r}(t.childNodes[0]);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}var ht="";try{ht=ft.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}var dt=document.implementation.createDocument(null,null,null),mt=new lt;function yt(e,t){var r=function e(t,r){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return(c=dt.createElement(r)).textContent=t.toString(),[c];if(Array.isArray(t)){for(var n=[],o=0,i=t;o<i.length;o++)for(var a=i[o],s=0,u=e(a,r);s<u.length;s++){var l=u[s];n.push(l)}return n}if("object"==typeof t){for(var c=dt.createElement(r),f=0,p=Object.keys(t);f<p.length;f++){var h=p[f];if("$"===h)for(var d=0,m=vt(t[h]);d<m.length;d++){var y=m[d];c.attributes.setNamedItem(y)}else for(var v=0,g=e(t[h],h);v<g.length;v++){l=g[v];c.appendChild(l)}}return[c]}throw new Error("Illegal value passed to buildObject: "+t)}(e,t&&t.rootName||"root")[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+mt.serializeToString(r)}function vt(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var o=n[r],i=dt.createAttribute(o);i.value=e[o].toString(),t.push(i)}return t}var gt=function(){function e(e,t){this._nextPolicy=e,this._options=t}return e.prototype.shouldLog=function(e){return this._options.shouldLog(e)},e.prototype.log=function(e,t){this._options.log(e,t)},e}(),wt=function(){function t(e){this._logger=e}return t.prototype.shouldLog=function(t){return!!this._logger&&t!==e.HttpPipelineLogLevel.OFF&&t<=this._logger.minimumLogLevel},t.prototype.log=function(e,t){this._logger&&this.shouldLog(e)&&this._logger.log(e,t)},t}();function bt(e){return{create:function(t,r){return new Tt(t,e,r)}}}var Et=["application/json","text/json"],Nt=["application/xml","application/atom+xml"],Tt=function(e){function t(t,r,n){var o=e.call(this,t,n)||this;return o.jsonContentTypes=r&&r.json||Et,o.xmlContentTypes=r&&r.xml||Nt,o}return D(t,e),t.prototype.sendRequest=function(e){return q(this,void 0,void 0,(function(){var t=this;return U(this,(function(r){return[2,this._nextPolicy.sendRequest(e).then((function(e){return Rt(t.jsonContentTypes,t.xmlContentTypes,e)}))]}))}))},t}(gt);function Rt(e,t,r){return function(e,t,r){var n=function(e){var t='Error "'+e+'" occurred while parsing the response body - '+r.bodyAsText+".",n=e.code||k.PARSE_ERROR,o=new k(t,n,r.status,r.request,r,r.bodyAsText);return Promise.reject(o)};if(!r.request.streamResponseBody&&r.bodyAsText){var o=r.bodyAsText,i=r.headers.get("Content-Type")||"",a=i?i.split(";").map((function(e){return e.toLowerCase()})):[];if(0===a.length||a.some((function(t){return-1!==e.indexOf(t)})))return new Promise((function(e){r.parsedBody=JSON.parse(o),e(r)})).catch(n);if(a.some((function(e){return-1!==t.indexOf(e)})))return pt(o).then((function(e){return r.parsedBody=e,r})).catch(n)}return Promise.resolve(r)}(e,t,r).then((function(e){if(function(e){var t=e.request.shouldDeserialize;return void 0===t||("boolean"==typeof t?t:t(e))}(e)){var t=e.request.operationSpec;if(t&&t.responses){var n=e.status,o=Object.keys(t.responses),i=0===o.length||1===o.length&&"default"===o[0],a=function(e){var t,r=e.request,n=r.operationSpec;if(n){var o=r.operationResponseGetter;t=o?o(n,e):n.responses[e.status]}return t}(e);if(i?200<=n&&n<300:!!a){if(a){if(a.bodyMapper){y=e.parsedBody;t.isXML&&a.bodyMapper.type.name===O.Sequence&&(y="object"==typeof y?y[a.bodyMapper.xmlElementName]:[]);try{e.parsedBody=t.serializer.deserialize(a.bodyMapper,y,"operationRes.parsedBody")}catch(c){var s=new k("Error "+c+" occurred in deserializing the responseBody - "+e.bodyAsText);return s.request=m(e.request),s.response=d(e),Promise.reject(s)}}else"HEAD"===t.httpMethod&&(e.parsedBody=r.status>=200&&r.status<300);a.headersMapper&&(e.parsedHeaders=t.serializer.deserialize(a.headersMapper,e.headers.rawHeaders(),"operationRes.parsedHeaders"))}}else{var u=t.responses.default;if(u){var l=$(t)?"Unexpected status code: "+n:e.bodyAsText,c=new k(l);c.statusCode=n,c.request=m(e.request),c.response=d(e);var f=e.parsedBody;try{if(f){var p=u.bodyMapper;if(p&&"CloudError"===p.serializedName)f.error&&(f=f.error),f.code&&(c.code=f.code),f.message&&(c.message=f.message);else{var h=f;f.error&&(h=f.error),c.code=h.code,h.message&&(c.message=h.message)}if(p){var y=f;t.isXML&&p.type.name===O.Sequence&&(y="object"==typeof f?f[p.xmlElementName]:[]),c.body=t.serializer.deserialize(p,y,"error.body")}}}catch(t){c.message='Error "'+t.message+'" occurred in deserializing the responseBody - "'+e.bodyAsText+'" for the default response.'}return Promise.reject(c)}}}}return Promise.resolve(e)}))}function _t(e,t,r,n){return{create:function(o,i){return new St(o,i,e,t,r,n)}}}var St=function(e){function t(t,r,n,o,i,a){var s=e.call(this,t,r)||this;function u(e){return"number"==typeof e}return s.retryCount=u(n)?n:3,s.retryInterval=u(o)?o:3e4,s.minRetryInterval=u(i)?i:3e3,s.maxRetryInterval=u(a)?a:9e4,s}return D(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(r){return xt(t,e,r)})).catch((function(r){return xt(t,e,r.response,void 0,r)}))},t}(gt);function xt(e,t,r,n,o){n=function(e,t,r){t||(t={retryCount:0,retryInterval:0}),r&&(t.error&&(r.innerError=t.error),t.error=r),t.retryCount++;var n=Math.pow(2,t.retryCount)-1;return n*=.8*e.retryInterval+Math.floor(Math.random()*(1.2*e.retryInterval-.8*e.retryInterval)),t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(e,n,o);var i=t.abortSignal&&t.abortSignal.aborted;if(!i&&function(e,t,r){if(null==t||t<500&&408!==t||501===t||505===t)return!1;if(!r)throw new Error("retryData for the ExponentialRetryPolicyFilter cannot be null.");return(r&&r.retryCount)<e.retryCount}(e,r&&r.status,n))return g(n.retryInterval).then((function(){return e._nextPolicy.sendRequest(t.clone())})).then((function(r){return xt(e,t,r,n,void 0)})).catch((function(o){return xt(e,t,r,n,o)}));if(i||o||!r){var a=n.error||new k("Failed to send the request.",k.REQUEST_SEND_ERROR,r&&r.status,r&&r.request,r);return Promise.reject(a)}return Promise.resolve(r)}function At(e){return void 0===e&&(e="x-ms-client-request-id"),{create:function(t,r){return new Ot(t,r,e)}}}var Ot=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o._requestIdHeaderName=n,o}return D(t,e),t.prototype.sendRequest=function(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,v()),this._nextPolicy.sendRequest(e)},t}(gt);function Pt(){return"x-ms-command-name"}var Ct=Pt;function Dt(){var e,t,r,n,o=[{key:"ms-rest-js",value:p.msRestVersion}],i=[{key:"OS",value:((e=window.navigator).oscpu||e.platform).replace(" ","")}];return t=o.concat(i),void 0===r&&(r=" "),void 0===n&&(n="/"),t.map((function(e){var t=e.value?""+n+e.value:"";return""+e.key+t})).join(r)}function It(e){var t=e&&null!=e.key?e.key:"x-ms-command-name",r=e&&null!=e.value?e.value:Dt();return{create:function(e,n){return new qt(e,n,t,r)}}}var qt=function(e){function t(t,r,n,o){var i=e.call(this,t,r)||this;return i._nextPolicy=t,i._options=r,i.headerKey=n,i.headerValue=o,i}return D(t,e),t.prototype.sendRequest=function(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)},t.prototype.addUserAgentHeader=function(e){e.headers||(e.headers=new n),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)},t}(gt),Ut=function(){function e(){this._rawQuery={}}return e.prototype.any=function(){return Object.keys(this._rawQuery).length>0},e.prototype.set=function(e,t){if(e)if(null!=t){var r=Array.isArray(t)?t:t.toString();this._rawQuery[e]=r}else delete this._rawQuery[e]},e.prototype.get=function(e){return e?this._rawQuery[e]:void 0},e.prototype.toString=function(){var e="";for(var t in this._rawQuery){e&&(e+="&");var r=this._rawQuery[t];if(Array.isArray(r)){for(var n=[],o=0,i=r;o<i.length;o++){var a=i[o];n.push(t+"="+a)}e+=n.join("&")}else e+=t+"="+r}return e},e.parse=function(t){var r=new e;if(t){t.startsWith("?")&&(t=t.substring(1));for(var n="ParameterName",o="",i="",a=0;a<t.length;++a){var s=t[a];switch(n){case"ParameterName":switch(s){case"=":n="ParameterValue";break;case"&":o="",i="";break;default:o+=s}break;case"ParameterValue":switch(s){case"&":r.set(o,i),o="",i="",n="ParameterName";break;default:i+=s}break;default:throw new Error("Unrecognized URLQuery parse state: "+n)}}"ParameterValue"===n&&r.set(o,i)}return r},e}(),Mt=function(){function e(){}return e.prototype.setScheme=function(e){e?this.set(e,"SCHEME"):this._scheme=void 0},e.prototype.getScheme=function(){return this._scheme},e.prototype.setHost=function(e){e?this.set(e,"SCHEME_OR_HOST"):this._host=void 0},e.prototype.getHost=function(){return this._host},e.prototype.setPort=function(e){null==e||""===e?this._port=void 0:this.set(e.toString(),"PORT")},e.prototype.getPort=function(){return this._port},e.prototype.setPath=function(e){if(e){var t=e.indexOf("://");if(-1!==t){var r=e.lastIndexOf("/",t);this.set(-1===r?e:e.substr(r+1),"SCHEME")}else this.set(e,"PATH")}else this._path=void 0},e.prototype.appendPath=function(e){if(e){var t=this.getPath();t&&(t.endsWith("/")||(t+="/"),e.startsWith("/")&&(e=e.substring(1)),e=t+e),this.set(e,"PATH")}},e.prototype.getPath=function(){return this._path},e.prototype.setQuery=function(e){this._query=e?Ut.parse(e):void 0},e.prototype.setQueryParameter=function(e,t){e&&(this._query||(this._query=new Ut),this._query.set(e,t))},e.prototype.getQueryParameterValue=function(e){return this._query?this._query.get(e):void 0},e.prototype.getQuery=function(){return this._query?this._query.toString():void 0},e.prototype.set=function(e,t){for(var r=new Ht(e,t);r.next();){var n=r.current();if(n)switch(n.type){case"SCHEME":this._scheme=n.text||void 0;break;case"HOST":this._host=n.text||void 0;break;case"PORT":this._port=n.text||void 0;break;case"PATH":var o=n.text||void 0;this._path&&"/"!==this._path&&"/"===o||(this._path=o);break;case"QUERY":this._query=Ut.parse(n.text);break;default:throw new Error("Unrecognized URLTokenType: "+n.type)}}},e.prototype.toString=function(){var e="";return this._scheme&&(e+=this._scheme+"://"),this._host&&(e+=this._host),this._port&&(e+=":"+this._port),this._path&&(this._path.startsWith("/")||(e+="/"),e+=this._path),this._query&&this._query.any()&&(e+="?"+this._query.toString()),e},e.prototype.replaceAll=function(e,t){e&&(this.setScheme(E(this.getScheme(),e,t)),this.setHost(E(this.getHost(),e,t)),this.setPort(E(this.getPort(),e,t)),this.setPath(E(this.getPath(),e,t)),this.setQuery(E(this.getQuery(),e,t)))},e.parse=function(t){var r=new e;return r.set(t,"SCHEME_OR_HOST"),r},e}(),kt=function(){function e(e,t){this.text=e,this.type=t}return e.scheme=function(t){return new e(t,"SCHEME")},e.host=function(t){return new e(t,"HOST")},e.port=function(t){return new e(t,"PORT")},e.path=function(t){return new e(t,"PATH")},e.query=function(t){return new e(t,"QUERY")},e}();var Ht=function(){function e(e,t){this._text=e,this._textLength=e?e.length:0,this._currentState=null!=t?t:"SCHEME_OR_HOST",this._currentIndex=0}return e.prototype.current=function(){return this._currentToken},e.prototype.next=function(){if(Lt(this))switch(this._currentState){case"SCHEME":t=function(e){return Ft(e,(function(e){return function(e){var t=e.charCodeAt(0);return 48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122}(e)}))}(e=this),e._currentToken=kt.scheme(t),Lt(e)?e._currentState="HOST":e._currentState="DONE";break;case"SCHEME_OR_HOST":!function(e){var t=$t(e,":","/","?");Lt(e)?":"===zt(e)?"://"===Bt(e,3)?(e._currentToken=kt.scheme(t),e._currentState="HOST"):(e._currentToken=kt.host(t),e._currentState="PORT"):(e._currentToken=kt.host(t),"/"===zt(e)?e._currentState="PATH":e._currentState="QUERY"):(e._currentToken=kt.host(t),e._currentState="DONE")}(this);break;case"HOST":!function(e){"://"===Bt(e,3)&&jt(e,3);var t=$t(e,":","/","?");e._currentToken=kt.host(t),Lt(e)?":"===zt(e)?e._currentState="PORT":"/"===zt(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PORT":!function(e){":"===zt(e)&&jt(e);var t=$t(e,"/","?");e._currentToken=kt.port(t),Lt(e)?"/"===zt(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PATH":!function(e){var t=$t(e,"?");e._currentToken=kt.path(t),Lt(e)?e._currentState="QUERY":e._currentState="DONE"}(this);break;case"QUERY":!function(e){"?"===zt(e)&&jt(e);var t=function(e){var t="";e._currentIndex<e._textLength&&(t=e._text.substring(e._currentIndex),e._currentIndex=e._textLength);return t}(e);e._currentToken=kt.query(t),e._currentState="DONE"}(this);break;default:throw new Error("Unrecognized URLTokenizerState: "+this._currentState)}else this._currentToken=void 0;var e,t;return!!this._currentToken},e}();function Lt(e){return e._currentIndex<e._textLength}function zt(e){return e._text[e._currentIndex]}function jt(e,t){Lt(e)&&(t||(t=1),e._currentIndex+=t)}function Bt(e,t){var r=e._currentIndex+t;return e._textLength<r&&(r=e._textLength),e._text.substring(e._currentIndex,r)}function Ft(e,t){for(var r="";Lt(e);){var n=zt(e);if(!t(n))break;r+=n,jt(e)}return r}function $t(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Ft(e,(function(e){return-1===t.indexOf(e)}))}function Vt(e){return void 0===e&&(e=20),{create:function(t,r){return new Qt(t,r,e)}}}var Qt=function(e){function t(t,r,n){void 0===n&&(n=20);var o=e.call(this,t,r)||this;return o.maxRetries=n,o}return D(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e).then((function(e){return function e(t,r,n){var o=r.request,i=r.status,a=r.headers.get("location");if(a&&(300===i||307===i||303===i&&"POST"===o.method)&&(!t.maxRetries||n<t.maxRetries)){var s=Mt.parse(o.url);return s.setPath(a),o.url=s.toString(),303===i&&(o.method="GET"),t._nextPolicy.sendRequest(o).then((function(r){return e(t,r,n+1)}))}return Promise.resolve(r)}(t,e,0)}))},t}(gt);var Xt=function(e){function t(t,r,n){void 0===n&&(n=30);var o=e.call(this,t,r)||this;return o._retryTimeout=n,o}return D(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(r){return function(e,t,r){if(409===r.status){var n=function(e){var t,r;if(e){try{r=JSON.parse(e)}catch(e){}if(r&&r.error&&r.error.message&&r.error.code&&"MissingSubscriptionRegistration"===r.error.code){var n=r.error.message.match(/.*'(.*)'/i);n&&(t=n.pop())}}return t}(r.bodyAsText);if(n){var o=function(e){var t,r=e.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(!r||!r[0])throw new Error("Unable to extract subscriptionId from the given url - "+e+".");t=r[0];return t}(t.url);return function(e,t,r,n){var o=t+"providers/"+r+"/register?api-version=2016-02-01",i=t+"providers/"+r+"?api-version=2016-02-01",a=Yt(n);return a.method="POST",a.url=o,e._nextPolicy.sendRequest(a).then((function(t){if(200!==t.status)throw new Error("Autoregistration of "+r+" failed. Please try registering manually.");return function e(t,r,n){var o=Yt(n);return o.url=r,o.method="GET",t._nextPolicy.sendRequest(o).then((function(o){var i=o.parsedBody;return!(!o.parsedBody||!i.registrationState||"Registered"!==i.registrationState)||g(1e3*t._retryTimeout).then((function(){return e(t,r,n)}))}))}(e,i,n)}))}(e,o,n,t).catch((function(){return!1})).then((function(n){return n?(t.headers.set("x-ms-client-request-id",v()),e._nextPolicy.sendRequest(t.clone())):r}))}}return Promise.resolve(r)}(t,e,r)}))},t}(gt);function Yt(e,t){void 0===t&&(t=!1);var r=e.clone();return t&&(r.url=e.url),r.headers.set("x-ms-client-request-id",v()),r.headers.set("Content-Type","application/json; charset=utf-8"),r}function Wt(e){return{create:function(t,r){return new Gt(t,r,e)}}}var Gt=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.authenticationProvider=n,o}return D(t,e),t.prototype.signRequest=function(e){return this.authenticationProvider.signRequest(e)},t.prototype.sendRequest=function(e){var t=this;return this.signRequest(e).then((function(e){return t._nextPolicy.sendRequest(e)}))},t}(gt);function Jt(e,t,r,n){return{create:function(o,i){return new Kt(o,i,e,t,r,n)}}}var Zt,Kt=function(e){function t(t,r,n,o,i,a){var s=e.call(this,t,r)||this;return s.DEFAULT_CLIENT_RETRY_INTERVAL=3e4,s.DEFAULT_CLIENT_RETRY_COUNT=3,s.DEFAULT_CLIENT_MAX_RETRY_INTERVAL=9e4,s.DEFAULT_CLIENT_MIN_RETRY_INTERVAL=3e3,s.retryCount="number"==typeof n?n:s.DEFAULT_CLIENT_RETRY_COUNT,s.retryInterval="number"==typeof o?o:s.DEFAULT_CLIENT_RETRY_INTERVAL,s.minRetryInterval="number"==typeof i?i:s.DEFAULT_CLIENT_MIN_RETRY_INTERVAL,s.maxRetryInterval="number"==typeof a?a:s.DEFAULT_CLIENT_MAX_RETRY_INTERVAL,s}return D(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).catch((function(r){return function e(t,r,n,o,i){return q(this,void 0,void 0,(function(){var a;return U(this,(function(s){switch(s.label){case 0:if(i=function(e,t,r){t||(t={retryCount:0,retryInterval:0});r&&(t.error&&(r.innerError=t.error),t.error=r);t.retryCount++;var n=Math.pow(2,t.retryCount)-1,o=.8*e.retryInterval+Math.floor(Math.random()*(.4*e.retryInterval));return n*=o,t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(t,i,o),!(o&&o.code&&function(e,t){var r;if(!t)throw new Error("retryData for the SystemErrorRetryPolicyFilter cannot be null.");r=t&&t.retryCount;return r<e.retryCount}(t,i))||"ETIMEDOUT"!==o.code&&"ESOCKETTIMEDOUT"!==o.code&&"ECONNREFUSED"!==o.code&&"ECONNRESET"!==o.code&&"ENOENT"!==o.code)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,g(i.retryInterval)];case 2:return s.sent(),[2,t._nextPolicy.sendRequest(r.clone())];case 3:return a=s.sent(),[2,e(t,r,n,a,i)];case 4:return[3,6];case 5:return o?[2,Promise.reject(i.error)]:[2,n];case 6:return[2]}}))}))}(t,e,r.response,r)}))},t}(gt);(Zt=e.QueryCollectionFormat||(e.QueryCollectionFormat={})).Csv=",",Zt.Ssv=" ",Zt.Tsv="\t",Zt.Pipes="|",Zt.Multi="Multi";var er=new Error("AgentPolicy is not supported in browser environment");function tr(e){return{create:function(e,t){throw er}}}!function(e){function t(t,r){e.call(this,t,r);throw er}D(t,e),t.prototype.sendRequest=function(e){throw er}}(gt);var rr=new Error("ProxyPolicy is not supported in browser environment");function nr(e){}function or(e){return{create:function(e,t){throw rr}}}!function(e){function t(t,r){e.call(this,t,r);throw rr}D(t,e),t.prototype.sendRequest=function(e){throw rr}}(gt);var ir=p.HttpConstants.StatusCodes;function ar(e){return void 0===e&&(e=3),{create:function(t,r){return new sr(t,r,e)}}}var sr=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.retryLimit=n,o}return D(t,e),t.prototype.sendRequest=function(e){return q(this,void 0,void 0,(function(){var t=this;return U(this,(function(r){return[2,this._nextPolicy.sendRequest(e.clone()).then((function(r){return t.retry(e,r,0)}))]}))}))},t.prototype.retry=function(e,r,n){return q(this,void 0,void 0,(function(){var o,i,a;return U(this,(function(s){switch(s.label){case 0:return r.status!==ir.TooManyRequests?[2,r]:(o=r.headers.get(p.HeaderConstants.RETRY_AFTER))&&n<this.retryLimit&&(i=t.parseRetryAfterHeader(o))?[4,g(i)]:[3,3];case 1:return s.sent(),[4,this._nextPolicy.sendRequest(e)];case 2:return a=s.sent(),[2,this.retry(e,a,n+1)];case 3:return[2,r]}}))}))},t.parseRetryAfterHeader=function(e){var r=Number(e);return Number.isNaN(r)?t.parseDateRetryAfterHeader(e):1e3*r},t.parseDateRetryAfterHeader=function(e){try{var t=Date.now(),r=Date.parse(e)-t;return Number.isNaN(r)?void 0:r}catch(e){return}},t}(gt),ur=function(){function e(e,t){void 0===t&&(t="https://management.azure.com/.default"),this.azureTokenCredential=e,this.scopes=t}return e.prototype.getToken=function(){return q(this,void 0,void 0,(function(){var e;return U(this,(function(t){switch(t.label){case 0:return[4,this.azureTokenCredential.getToken(this.scopes)];case 1:if(null!==(e=t.sent()))return[2,{accessToken:e.token,tokenType:"Bearer",expiresOn:e.expiresOnTimestamp}];throw new Error("Could find token for scope")}}))}))},e.prototype.signRequest=function(e){return q(this,void 0,void 0,(function(){var t;return U(this,(function(r){switch(r.label){case 0:return[4,this.getToken()];case 1:return t=r.sent(),e.headers.set(p.HeaderConstants.AUTHORIZATION,t.tokenType+" "+t.accessToken),[2,Promise.resolve(e)]}}))}))},e}(),lr=function(){function t(e,t){var r,n,o;if(t||(t={}),(r=(n=e)&&"function"==typeof n.getToken&&(void 0===n.signRequest||n.getToken.length>0)?new ur(e):e)&&!r.signRequest)throw new Error("credentials argument needs to implement signRequest method");if(this._withCredentials=t.withCredentials||!1,this._httpClient=t.httpClient||new H,this._requestPolicyOptions=new wt(t.httpPipelineLogger),Array.isArray(t.requestPolicyFactories))o=t.requestPolicyFactories;else if(o=function(e,t){var r=[];t.generateClientRequestIdHeader&&r.push(At(t.clientRequestIdHeaderName));e&&("function"==typeof e.create?r.push(e):r.push(Wt(e)));var n=cr(t.userAgentHeaderName,Ct),o=cr(t.userAgent,Dt);n&&o&&r.push(It({key:n,value:o}));r.push(Vt()),r.push(function(e){return void 0===e&&(e=30),{create:function(t,r){return new Xt(t,r,e)}}}(t.rpRegistrationRetryTimeout)),t.noRetryPolicy||(r.push(_t()),r.push(Jt()),r.push(ar()));r.push(bt(t.deserializationContentTypes)),t.proxySettings?r.push(or()):void 0;t.agentSettings&&r.push(tr(t.agentSettings));return r}(r,t),t.requestPolicyFactories){var i=t.requestPolicyFactories(o);i&&(o=i)}this._requestPolicyFactories=o}return t.prototype.sendRequest=function(e){if(null==e||"object"!=typeof e)throw new Error("options cannot be null or undefined and it must be of type object.");var t,n;try{"object"==typeof(n=e)&&"string"==typeof n.url&&"string"==typeof n.method&&"object"==typeof n.headers&&r(n.headers)&&"function"==typeof n.validateRequestProperties&&"function"==typeof n.prepare&&"function"==typeof n.clone?(e.validateRequestProperties(),t=e):t=(t=new P).prepare(e)}catch(e){return Promise.reject(e)}var o=this._httpClient;if(this._requestPolicyFactories&&this._requestPolicyFactories.length>0)for(var i=this._requestPolicyFactories.length-1;i>=0;--i)o=this._requestPolicyFactories[i].create(o,this._requestPolicyOptions);return o.sendRequest(t)},t.prototype.sendOperationRequest=function(t,r,n){"function"==typeof t.options&&(n=t.options,t.options=void 0);var o,i=new P;try{var a=r.baseUrl||this.baseUri;if(!a)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");i.method=r.httpMethod,i.operationSpec=r;var s=Mt.parse(a);if(r.path&&s.appendPath(r.path),r.urlParameters&&r.urlParameters.length>0)for(var u=0,l=r.urlParameters;u<l.length;u++){var c=l[u],f=fr(this,t,c,r.serializer);f=r.serializer.serialize(c.mapper,f,B(c)),c.skipEncoding||(f=encodeURIComponent(f)),s.replaceAll("{"+(c.mapper.serializedName||B(c))+"}",f)}if(r.queryParameters&&r.queryParameters.length>0)for(var p=0,h=r.queryParameters;p<h.length;p++){var d=h[p],m=fr(this,t,d,r.serializer);if(null!=m){if(m=r.serializer.serialize(d.mapper,m,B(d)),null!=d.collectionFormat)if(d.collectionFormat===e.QueryCollectionFormat.Multi)if(0===m.length)m="";else for(var y in m){var v=m[y];m[y]=null==v?"":v.toString()}else d.collectionFormat!==e.QueryCollectionFormat.Ssv&&d.collectionFormat!==e.QueryCollectionFormat.Tsv||(m=m.join(d.collectionFormat));if(!d.skipEncoding)if(Array.isArray(m))for(var y in m)void 0!==m[y]&&null!==m[y]&&(m[y]=encodeURIComponent(m[y]));else m=encodeURIComponent(m);null!=d.collectionFormat&&d.collectionFormat!==e.QueryCollectionFormat.Multi&&d.collectionFormat!==e.QueryCollectionFormat.Ssv&&d.collectionFormat!==e.QueryCollectionFormat.Tsv&&(m=m.join(d.collectionFormat)),s.setQueryParameter(d.mapper.serializedName||B(d),m)}}i.url=s.toString();var g=r.contentType||this.requestContentType;if(g&&i.headers.set("Content-Type",g),r.headerParameters)for(var w=0,b=r.headerParameters;w<b.length;w++){var E=b[w],N=fr(this,t,E,r.serializer);if(null!=N){N=r.serializer.serialize(E.mapper,N,B(E));var T=E.mapper.headerCollectionPrefix;if(T)for(var R=0,_=Object.keys(N);R<_.length;R++){var S=_[R];i.headers.set(T+S,N[S])}else i.headers.set(E.mapper.serializedName||B(E),N)}}var x=t.options;if(x){if(x.customHeaders)for(var A in x.customHeaders)i.headers.set(A,x.customHeaders[A]);x.abortSignal&&(i.abortSignal=x.abortSignal),x.timeout&&(i.timeout=x.timeout),x.onUploadProgress&&(i.onUploadProgress=x.onUploadProgress),x.onDownloadProgress&&(i.onDownloadProgress=x.onDownloadProgress)}i.withCredentials=this._withCredentials,function(e,t,r,n){if(n.requestBody&&n.requestBody.mapper){t.body=fr(e,r,n.requestBody,n.serializer);var o=n.requestBody.mapper,i=o.required,a=o.xmlName,s=o.xmlElementName,u=o.serializedName,l=o.type.name;try{if(null!=t.body||i){var c=B(n.requestBody);t.body=n.serializer.serialize(o,t.body,c);var f=l===O.Stream;n.isXML?l===O.Sequence?t.body=yt(function(e,t){var r;return Array.isArray(e)||(e=[e]),(r={})[t]=e,r}(t.body,s||a||u),{rootName:a||u}):f||(t.body=yt(t.body,{rootName:a||u})):f||(t.body=JSON.stringify(t.body))}}catch(e){throw new Error('Error "'+e.message+'" occurred in serializing the payload - '+JSON.stringify(u,void 0,"  ")+".")}}else if(n.formDataParameters&&n.formDataParameters.length>0){t.formData={};for(var p=0,h=n.formDataParameters;p<h.length;p++){var d=h[p],m=fr(e,r,d,n.serializer);if(null!=m){var y=d.mapper.serializedName||B(d);t.formData[y]=n.serializer.serialize(d.mapper,m,B(d))}}}}(this,i,t,r),null==i.streamResponseBody&&(i.streamResponseBody=$(r)),o=this.sendRequest(i).then((function(e){return hr(e,r.responses[e.status])}))}catch(e){o=Promise.reject(e)}var C=n;return C&&o.then((function(e){return C(null,e._response.parsedBody,e._response.request,e._response)})).catch((function(e){return C(e)})),o},t}();function cr(e,t){var r;return"string"==typeof e?r=e:(r=t(),"function"==typeof e&&(r=e(r))),r}function fr(e,t,r,n){return function e(t,r,n,o,i){var a;"string"==typeof n&&(n=[n]);if(Array.isArray(n)){if(n.length>0){if(o.isConstant)a=o.defaultValue;else{var s=pr(r,n);s.propertyFound||(s=pr(t,n));var u=!1;s.propertyFound||(u=o.required||"options"===n[0]&&2===n.length),a=u?o.defaultValue:s.propertyValue}var l=F(n,o);i.serialize(o,a,l)}}else for(var c in o.required&&(a={}),n){var f=o.type.modelProperties[c],p=n[c],h=e(t,r,p,f,i),d=F(p,f);i.serialize(f,h,d),void 0!==h&&(a||(a={}),a[c]=h)}return a}(e,t,r.parameterPath,r.mapper,n)}function pr(e,t){for(var r={propertyFound:!1},n=0;n<t.length;++n){var o=t[n];if(null==e||!(o in e))break;e=e[o]}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}function hr(e,t){var r,n=e.parsedHeaders,o=t&&t.bodyMapper,i=function(t){return Object.defineProperty(t,"_response",{value:e})};if(o){var a=o.type.name;if("Stream"===a)return i(I(I({},n),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody}));var s="Composite"===a&&o.type.modelProperties||{},u=Object.keys(s).some((function(e){return""===s[e].serializedName}));if("Sequence"===a||u){for(var l=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}(Array.isArray(e.parsedBody)?e.parsedBody:[]),c=0,f=Object.keys(s);c<f.length;c++){var p=f[c];s[p].serializedName&&(l[p]=e.parsedBody[p])}if(n)for(var h=0,d=Object.keys(n);h<d.length;h++){l[p=d[h]]=n[p]}return i(l),l}if("Composite"===a||"Dictionary"===a)return i(I(I({},n),e.parsedBody))}return o||"HEAD"===e.request.method||("object"!=typeof(r=e.parsedBody)&&"function"!=typeof r||null===r)?i(I(I({},n),{body:e.parsedBody})):i(I(I({},n),e.parsedBody))}var dr=function(e){function t(t,r,n){void 0===n&&(n=console.log);var o=e.call(this,t,r)||this;return o.logger=n,o}return D(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e).then((function(e){return function(e,t){e.logger(">> Request: "+JSON.stringify(t.request,void 0,2)),e.logger(">> Response status code: "+t.status);var r=t.bodyAsText;return e.logger(">> Body: "+r),Promise.resolve(t)}(t,e)}))},t}(gt);var mr=p.HeaderConstants,yr=function(){function e(e,t){if(void 0===t&&(t="Bearer"),this.authorizationScheme="Bearer",!e)throw new Error("token cannot be null or undefined.");this.token=e,this.authorizationScheme=t}return e.prototype.signRequest=function(e){return e.headers||(e.headers=new n),e.headers.set(mr.AUTHORIZATION,this.authorizationScheme+" "+this.token),Promise.resolve(e)},e}(),vr=p.HeaderConstants,gr=function(){function e(e,t,r){if(void 0===r&&(r="Basic"),this.authorizationScheme="Basic",null==e||"string"!=typeof e.valueOf())throw new Error("userName cannot be null or undefined and must be of type string.");if(null==t||"string"!=typeof t.valueOf())throw new Error("password cannot be null or undefined and must be of type string.");this.userName=e,this.password=t,this.authorizationScheme=r}return e.prototype.signRequest=function(e){var t=this.userName+":"+this.password,r=this.authorizationScheme+" "+btoa(t);return e.headers||(e.headers=new n),e.headers.set(vr.AUTHORIZATION,r),Promise.resolve(e)},e}(),wr=function(){function e(e){if(!e||e&&!e.inHeader&&!e.inQuery)throw new Error('options cannot be null or undefined. Either "inHeader" or "inQuery" property of the options object needs to be provided.');this.inHeader=e.inHeader,this.inQuery=e.inQuery}return e.prototype.signRequest=function(e){if(!e)return Promise.reject(new Error('webResource cannot be null or undefined and must be of type "object".'));if(this.inHeader)for(var t in e.headers||(e.headers=new n),this.inHeader)e.headers.set(t,this.inHeader[t]);if(this.inQuery){if(!e.url)return Promise.reject(new Error("url cannot be null in the request object."));for(var r in e.url.indexOf("?")<0&&(e.url+="?"),this.inQuery)e.url.endsWith("?")||(e.url+="&"),e.url+=r+"="+this.inQuery[r]}return Promise.resolve(e)},e}(),br=function(e){function t(t){if(!t||t&&"string"!=typeof t)throw new Error("topicKey cannot be null or undefined and must be of type string.");var r={inHeader:{"aeg-sas-key":t}};return e.call(this,r)||this}return D(t,e),t}(wr),Er=function(e){function t(t){if(!t||t&&"string"!=typeof t)throw new Error("domainKey cannot be null or undefined and must be of type string.");var r={inHeader:{"aeg-sas-key":t}};return e.call(this,r)||this}return D(t,e),t}(wr);e.ApiKeyCredentials=wr,e.AzureIdentityCredentialAdapter=ur,e.BaseRequestPolicy=gt,e.BasicAuthenticationCredentials=gr,e.Constants=p,e.DefaultHttpClient=H,e.DomainCredentials=Er,e.HttpHeaders=n,e.MapperType=O,e.RequestPolicyOptions=wt,e.RestError=k,e.Serializer=N,e.ServiceClient=lr,e.TokenCredentials=yr,e.TopicCredentials=br,e.URLBuilder=Mt,e.URLQuery=Ut,e.WebResource=P,e.agentPolicy=tr,e.applyMixins=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(r){e.prototype[r]=t.prototype[r]}))}))},e.delay=g,e.deserializationPolicy=bt,e.deserializeResponseBody=Rt,e.encodeUri=function(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/"/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},e.executePromisesSequentially=function(e,t){var r=Promise.resolve(t);return e.forEach((function(e){r=r.then(e)})),r},e.exponentialRetryPolicy=_t,e.flattenResponse=hr,e.generateClientRequestIdPolicy=At,e.generateUuid=v,e.getDefaultProxySettings=nr,e.getDefaultUserAgentValue=Dt,e.isDuration=b,e.isNode=h,e.isValidUuid=y,e.logPolicy=function(e){return void 0===e&&(e=console.log),{create:function(t,r){return new dr(t,r,e)}}},e.promiseToCallback=function(e){if("function"!=typeof e.then)throw new Error("The provided input is not a Promise.");return function(t){e.then((function(e){t(void 0,e)}),(function(e){t(e)}))}},e.promiseToServiceCallback=function(e){if("function"!=typeof e.then)throw new Error("The provided input is not a Promise.");return function(t){e.then((function(e){process.nextTick(t,void 0,e.parsedBody,e.request,e)}),(function(e){process.nextTick(t,e)}))}},e.proxyPolicy=or,e.redirectPolicy=Vt,e.serializeObject=function e(t){if(null!=t){if(t instanceof Uint8Array)return t=o(t);if(t instanceof Date)return t.toISOString();if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(e(t[n]));return r}if("object"==typeof t){var i={};for(var a in t)i[a]=e(t[a]);return i}return t}},e.signingPolicy=Wt,e.stripRequest=m,e.stripResponse=d,e.systemErrorRetryPolicy=Jt,e.throttlingRetryPolicy=ar,e.userAgentPolicy=It,Object.defineProperty(e,"__esModule",{value:!0})}));